<!DOCTYPE html>
<html lang='en'>
  <head>
      <!-- stylesheet and designs -->
      <link rel = "stylesheet" href="/static/calendarWebPageStylesheet.css" />
      <meta charset="UTF-8">
        <!--fonts-->
      <title>Calendar</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200&display=swap" rel="stylesheet">

      <!--fullCalendarScript-->
      <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css" rel = "stylesheet">
    <script>

        document.addEventListener('DOMContentLoaded', function() {
         var Calendar = FullCalendar.Calendar;
         var Draggable = FullCalendar.Draggable;


        let containerEl = document.getElementById('external-event');
        let calendarEl = document.getElementById('calendar');

        let calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'timeGridWeek',
          droppable : true,
          editable  : true,
          selectable: true,

          events:
          [ { title : "title1"} ],

          /*event click is going to work well here now I need to try and figure out if it's going to work with user
          input and flask */

          /* okay so I will need to edited eventClick so it can work to change the title and uploading files rather
          than alerts if I can */

          /* I might even look at wtfroms and or wtf flask for this area */


          eventClick: function(info) {

              alert("CLICKED!");
              alert('Event : ' + info.event.title);


            /* need to figure out where info.el.style is within css because the blue border on the events looks bad */
            info.el.style.borderColor = 'pink';
          }


        });

        calendar.render();

    new Draggable(containerEl, {
        itemSelector: '.fc-event',
        eventData: function(eventEl) {
        return {
            title: eventEl.innerText
                };
        }
    });


   });
  </script>
  </head>

  <body>
  <div id='external-event'>
      <!--Event Header-->
      <p class = "event-heading">
        <strong>Draggable Events</strong>
      </p>
      <!--Events-->
      <div class='fc-event fc-h-event  fc-daygrid-event fc-daygrid-block-event'>
          <div class='fc-event-main'>My Event 1</div>
      </div>
      <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
          <div class='fc-event-main'>My Event 2</div>
      </div>
      <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
          <div class='fc-event-main'>My Event 3</div>
      </div>

  </div>

  <!-- It is important that calendar is the group container as it will help drag events into it-->
  <div id = 'container'>
    <div id='calendar'></div>
  </div>
   </body>
</html>